
### 身份证号校验
```html
<input v-model="dialog.idCardNo" @keyup="checkIDNum($event)" maxlength="18" class="cs_text" placeholder="请输入">

 /**
       * 限制输入身份证号[数字、字母X]
       */
      checkIDNum(el) {
        if (el.target.value.length === 1) {
          el.target.value = el.target.value.replace(/[^1-9]/g, '');
        } else if (el.target.value.length === 18) {
          el.target.value = el.target.value.replace(/[^0-9xX]/g, '');
        } else {
          el.target.value = el.target.value.replace(/\D/g, '');
        }
      },

 if (18 !== this.dialog.idCardNo.length) {
          this.$toast("非法的身份证号，请重新输入！");
          return;
        }
        let idCardInfo = this.getIDCardInfo(this.dialog.idCardNo);
        if (WhParameter.isInvalid(idCardInfo.city) || WhParameter.isInvalid(idCardInfo.province) ||
          WhParameter.isInvalid(idCardInfo.age) || idCardInfo.age === -1) {
          this.$toast("非法的身份证号，请重新输入！");
          return;
        }

/**
     * 获取身份证信息
     * @param idNum
     */
    getIDCardInfo(idNum = "  ") {
      const person = {};
      person.province = AREA_CODE[idNum.substring(0, 2) + "0000"];
      switch (person.province) {
        case "北京市":
        case "天津市":
        case "上海市":
        case "重庆市":
        case "台湾省":
        case "香港特别行政区":
        case "澳门特别行政区":
          person.city = person.province;
          break;
        default:
          person.city = AREA_CODE[idNum.substring(0, 4) + "00"];
          break;
      }
      person.birthday = idNum.substring(6, 10) + "-" + idNum.substring(10, 12) + "-" + idNum.substring(12, 14);
      const sexno = idNum.substring(16, 17);
      if (0 === sexno % 2) {
        person.sex = "女"
      } else {
        person.sex = "男"
      }
      person.age = this.getAge(person.birthday);
      return person;
    },
    /**
     * 获取年龄
     * @param birthday
     */
    getAge(birthday) {
      var returnAge;
      var birthdayArr = birthday.split("-");
      var birthYear = birthdayArr[0];
      var birthMonth = birthdayArr[1];
      var birthDay = birthdayArr[2];

      var d = new Date();
      var nowYear = d.getFullYear();
      var nowMonth = d.getMonth() + 1;
      var nowDay = d.getDate();

      if (nowYear === birthYear) {
        returnAge = 0;//同年 则为0岁
      } else {
        var ageDiff = nowYear - birthYear; //年之差
        if (ageDiff > 0) {
          if (nowMonth === birthMonth) {
            var dayDiff = nowDay - birthDay;//日之差
            if (dayDiff < 0) {
              returnAge = ageDiff - 1;
            } else {
              returnAge = ageDiff;
            }
          } else {
            var monthDiff = nowMonth - birthMonth;//月之差
            if (monthDiff < 0) {
              returnAge = ageDiff - 1;
            } else {
              returnAge = ageDiff;
            }
          }
        } else {
          returnAge = -1;//返回-1 表示出生日期输入错误 晚于今天
        }
      }
      return returnAge;//返回周岁年龄
    },
```
